<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>To do list</title>
  <style>
  body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  margin: 0;
  padding: 30px 40px;
  background: linear-gradient(135deg, #667eea, #764ba2);
  color: #333;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  box-sizing: border-box;
}

.header {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 40px;
  margin-bottom: 30px;
  flex-wrap: wrap;
}

.stats {
  display: flex;
  gap: 30px;
}

.stat-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 15px 25px;
  background: rgba(255,255,255,0.9);
  border-radius: 12px;
  box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -4px rgba(0,0,0,0.1);
  font-weight: 600;
  color: #4a4a4a;
  min-width: 100px;
  user-select: none;
  transition: transform 0.2s ease;
}
.stat-item:hover {
  transform: scale(1.05);
}
.stat-item span:first-child {
  font-size: 0.8rem;
  color: #888;
  margin-bottom: 5px;
}
.stat-item span:last-child {
  font-size: 1.6rem;
  color: #5a2a83;
}

.input-group {
  display: flex;
  gap: 15px;
  margin-bottom: 30px;
  width: 100%;
  max-width: 600px;
}

input[type="text"], input[type="date"] {
  flex: 1;
  padding: 14px 20px;
  border: none;
  border-radius: 30px;
  background-color: rgba(255, 255, 255, 0.85);
  font-size: 1rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  transition: box-shadow 0.3s ease;
  outline-offset: 2px;
}
input[type="text"]:focus, input[type="date"]:focus {
  box-shadow: 0 4px 20px rgba(107, 70, 193, 0.6);
  outline: none;
}

button {
  padding: 14px 25px;
  border: none;
  border-radius: 30px;
  background-color: #764ba2;
  color: white;
  font-size: 1.4rem;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 6px 15px rgba(118, 75, 162, 0.6);
  transition: background-color 0.3s ease, transform 0.2s ease;
}
button:hover {
  background-color: #5a2a83;
  transform: translateY(-2px);
}
button:active {
  transform: translateY(0);
}

.validation-message {
  color: #ff6b6b;
  font-weight: 600;
  margin: 0 auto 20px auto;
  text-align: center;
  display: none;
  max-width: 600px;
  letter-spacing: 0.03em;
  user-select: none;
}

.controls {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  justify-content: center;
  margin-bottom: 25px;
  width: 100%;
  max-width: 700px;
}

#searchInput {
  flex: 1;
  min-width: 200px;
  padding: 8px 15px;
  border-radius: 20px;
  border: 2px solid transparent;
  font-size: 1rem;
  box-shadow: 0 3px 8px rgba(0,0,0,0.08);
  transition: border-color 0.3s ease;
}
#searchInput:focus {
  border-color: #764ba2;
  outline: none;
}

.filter-btn {
  padding: 8px 20px;
  border-radius: 20px;
  background-color: white;
  color: #764ba2;
  border: 2px solid #764ba2;
  font-weight: bold;
  cursor: pointer;
  transition: background-color 0.3s ease, color 0.3s ease;
  user-select: none;
}
.filter-btn:hover {
  background-color: #764ba2;
  color: white;
}
.active-filter {
  background-color: #5a2a83 !important;
  color: white !important;
  border-color: #5a2a83 !important;
}

.delete-all, .clear-completed {
  background-color: #e74c3c;
  border: 2px solid #c0392b;
  color: white;
  padding: 8px 22px;
  font-weight: 700;
  border-radius: 20px;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(231, 76, 60, 0.5);
  transition: background-color 0.3s ease;
}
.delete-all:hover, .clear-completed:hover {
  background-color: #c0392b;
  box-shadow: 0 6px 15px rgba(192, 57, 43, 0.7);
}

.task-table {
  width: 100%;
  max-width: 800px;
  border-collapse: separate;
  border-spacing: 0 10px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.15);
  border-radius: 15px;
  overflow: hidden;
  background: white;
}

.task-table th {
  background-color: #764ba2;
  color: white;
  padding: 18px 15px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  user-select: none;
}

.task-table td {
  background-color: #fdfbfe;
  padding: 15px 15px;
  vertical-align: middle;
  border-radius: 12px;
  color: #444;
  font-size: 1rem;
}

.task-table tbody tr {
  transition: background-color 0.3s ease;
  box-shadow: 0 4px 15px rgba(0,0,0,0.05);
}

.task-table tbody tr:hover {
  background-color: #f0e6fa;
}

.complete-btn {
  background-color: #27ae60;
  padding: 8px 14px;
  border-radius: 10px;
  border: none;
  color: white;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(39, 174, 96, 0.6);
  transition: background-color 0.3s ease;
}
.complete-btn:hover {
  background-color: #219150;
}

.delete-btn {
  background-color: #e74c3c;
  padding: 8px 14px;
  border-radius: 10px;
  border: none;
  color: white;
  font-weight: 600;
  cursor: pointer;
  margin-left: 8px;
  box-shadow: 0 4px 12px rgba(231, 76, 60, 0.7);
  transition: background-color 0.3s ease;
}
.delete-btn:hover {
  background-color: #c0392b;
}

.completed {
  text-decoration: line-through;
  color: #999;
  font-style: italic;
}

.no-tasks {
  text-align: center;
  color: #bbb;
  font-size: 1.1rem;
  margin-top: 30px;
  font-weight: 500;
  user-select: none;
}
</style>
</head>
<body>
  <div class="header" id="mainHeader">
    <div class="stats">
      <div class="stat-item"><span>TOTAL TASKS</span><span>0</span></div>
      <div class="stat-item"><span>COMPLETED</span><span>0</span></div>
      <div class="stat-item"><span>PENDING</span><span>0</span></div>
    </div>
  </div>
  <div class="input-group">
    <input type="text" id="taskInput" placeholder="Add a todo..." />
    <input type="date" id="dateInput" />
    <button onclick="addTask()">+</button>
  </div>
  <div class="validation-message" id="validationMsg">Please enter a task and date.</div>
  <div class="controls">
    <input type="text" placeholder="Search tasks... (Ctrl+F)" id="searchInput" />
    <button id="searchBtn" class="filter-btn">Search</button>
    <button id="filterAll" class="filter-btn active-filter" onclick="filterTasks('all')">All</button>
    <button id="filterActive" class="filter-btn" onclick="filterTasks('active')">Active</button>
    <button id="filterCompleted" class="filter-btn" onclick="filterTasks('completed')">Completed</button>
    <button class="delete-all">DELETE ALL</button>
    <button class="clear-completed">CLEAR COMPLETED</button>
  </div>
  <table id="taskList" class="task-table">
    <thead>
      <tr>
        <th>Task</th>
        <th>Due Date</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
  <div class="no-tasks" id="noTasks" style="display:none;">No tasks found</div>

  <script>
    let tasks = [];

    function addTask() {
      const taskInput = document.getElementById('taskInput');
      const dateInput = document.getElementById('dateInput');
      const validationMsg = document.getElementById('validationMsg');
      if (!taskInput.value.trim() || !dateInput.value) {
        validationMsg.style.display = 'block';
        return;
      }
      validationMsg.style.display = 'none';
      const task = {
        id: Date.now() + Math.floor(Math.random() * 1000),
        description: taskInput.value,
        dueDate: new Date(dateInput.value),
        status: 'Pending'
      };
      tasks.push(task);
      taskInput.value = '';
      dateInput.value = '';
      renderTasks(getActiveFilter());
    }

    function renderTasks(filter = 'all') {
      const taskList = document.getElementById('taskList').getElementsByTagName('tbody')[0];
      const noTasks = document.getElementById('noTasks');
      taskList.innerHTML = '';
      let filteredTasks = tasks;
      if (filter === 'active') filteredTasks = tasks.filter(t => t.status === 'Pending');
      else if (filter === 'completed') filteredTasks = tasks.filter(t => t.status === 'Completed');
      if (filteredTasks.length === 0) {
        noTasks.style.display = 'block';
      } else {
        noTasks.style.display = 'none';
        filteredTasks
          .sort((a, b) => a.dueDate - b.dueDate)
          .forEach((task) => {
            const row = taskList.insertRow();
            row.id = `task-${task.id}`;
            row.insertCell(0).innerHTML = `<span class="${task.status==='Completed'?'completed':''}">${task.description}</span>`;
            row.insertCell(1).textContent = task.dueDate.toLocaleDateString();
            row.insertCell(2).textContent = task.status;
            const actionsCell = row.insertCell(3);
            actionsCell.innerHTML = 
              `<button class="complete-btn" onclick="toggleComplete(${task.id})">Toggle</button>
               <button class="delete-btn" onclick="deleteTask(${task.id})">Delete</button>`;
          });
      }
      updateStats();
    }

    function toggleComplete(id) {
      const idx = tasks.findIndex(t => t.id === id);
      if (idx > -1) {
        tasks[idx].status = tasks[idx].status === 'Completed' ? 'Pending' : 'Completed';
        renderTasks(getActiveFilter());
      }
    }

    function deleteTask(id) {
      tasks = tasks.filter(t => t.id !== id);
      renderTasks(getActiveFilter());
    }

    function filterTasks(filter) {
      setActiveFilter(filter);
      renderTasks(filter);
    }

    function setActiveFilter(filter) {
      document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active-filter'));
      const filterId = `filter${filter.charAt(0).toUpperCase() + filter.slice(1)}`;
      const filterBtn = document.getElementById(filterId);
      if (filterBtn) filterBtn.classList.add('active-filter');
    }

    function getActiveFilter() {
      return document.querySelector('.filter-btn.active-filter').textContent.toLowerCase();
    }

    function clearCompleted() {
      tasks = tasks.filter(task => task.status !== 'Completed');
      setActiveFilter('all');
      renderTasks('all');
    }

    function updateStats() {
      const totalTasks = tasks.length;
      document.querySelector('.stats .stat-item:nth-child(1) span:last-child').textContent = totalTasks;
      const completedTasks = tasks.filter(task => task.status === 'Completed').length;
      document.querySelector('.stats .stat-item:nth-child(2) span:last-child').textContent = completedTasks;
      const pendingTasks = totalTasks - completedTasks;
      document.querySelector('.stats .stat-item:nth-child(3) span:last-child').textContent = pendingTasks;
    }

    document.querySelector('.delete-all').addEventListener('click', function() {
      tasks = [];
      setActiveFilter('all');
      renderTasks('all');
    });

    document.querySelector('.clear-completed').addEventListener('click', clearCompleted);

    // Initial render
    renderTasks('all');
  </script>
</body>
</html>
